"use client";

import React from "react";
import { usePathname } from "next/navigation";
import Link from "next/link";
import Image from "next/image";
import SidebarItem from "@/components/Sidebar/SidebarItem";
import ClickOutside from "@/components/ClickOutside";
import useLocalStorage from "@/hooks/useLocalStorage";

interface SidebarProps {
  sidebarOpen: boolean;
  setSidebarOpen: (arg: boolean) => void;
}

const Sidebar = ({ sidebarOpen, setSidebarOpen }: SidebarProps) => {
  const pathname = usePathname();

  const menuGroups = [
    {
      name: "MAIN MENU",
      menuItems: [
        {
          icon: (
            <svg
              className="text- fill-current"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M9.00009 17.2498C8.58588 17.2498 8.25009 17.5856 8.25009 17.9998C8.25009 18.414 8.58588 18.7498 9.00009 18.7498H15.0001C15.4143 18.7498 15.7501 18.414 15.7501 17.9998C15.7501 17.5856 15.4143 17.2498 15.0001 17.2498H9.00009Z"
                fill=""
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M12 1.25C11.2749 1.25 10.6134 1.44911 9.88928 1.7871C9.18832 2.11428 8.37772 2.59716 7.36183 3.20233L5.90622 4.06943C4.78711 4.73606 3.89535 5.26727 3.22015 5.77524C2.52314 6.29963 1.99999 6.8396 1.65907 7.55072C1.31799 8.26219 1.22554 9.0068 1.25519 9.87584C1.2839 10.717 1.43105 11.7397 1.61556 13.0219L1.90792 15.0537C2.14531 16.7036 2.33368 18.0128 2.61512 19.0322C2.90523 20.0829 3.31686 20.9169 4.05965 21.5565C4.80184 22.1956 5.68984 22.4814 6.77634 22.6177C7.83154 22.75 9.16281 22.75 10.8423 22.75H13.1577C14.8372 22.75 16.1685 22.75 17.2237 22.6177C18.3102 22.4814 19.1982 22.1956 19.9404 21.5565C20.6831 20.9169 21.0948 20.0829 21.3849 19.0322C21.6663 18.0129 21.8547 16.7036 22.0921 15.0537L22.3844 13.0219C22.569 11.7396 22.7161 10.717 22.7448 9.87584C22.7745 9.0068 22.682 8.26219 22.3409 7.55072C22 6.8396 21.4769 6.29963 20.7799 5.77524C20.1047 5.26727 19.2129 4.73606 18.0938 4.06943L16.6382 3.20233C15.6223 2.59716 14.8117 2.11428 14.1107 1.7871C13.3866 1.44911 12.7251 1.25 12 1.25ZM8.09558 4.51121C9.15309 3.88126 9.89923 3.43781 10.5237 3.14633C11.1328 2.86203 11.5708 2.75 12 2.75C12.4293 2.75 12.8672 2.86203 13.4763 3.14633C14.1008 3.43781 14.8469 3.88126 15.9044 4.51121L17.2893 5.33615C18.4536 6.02973 19.2752 6.52034 19.8781 6.9739C20.4665 7.41662 20.7888 7.78294 20.9883 8.19917C21.1877 8.61505 21.2706 9.09337 21.2457 9.82469C21.2201 10.5745 21.0856 11.5163 20.8936 12.8511L20.6148 14.7884C20.3683 16.5016 20.1921 17.7162 19.939 18.633C19.6916 19.5289 19.3939 20.0476 18.9616 20.4198C18.5287 20.7926 17.9676 21.0127 17.037 21.1294C16.086 21.2486 14.8488 21.25 13.1061 21.25H10.8939C9.15124 21.25 7.91405 21.2486 6.963 21.1294C6.03246 21.0127 5.47129 20.7926 5.03841 20.4198C4.60614 20.0476 4.30838 19.5289 4.06102 18.633C3.80791 17.7162 3.6317 16.5016 3.3852 14.7884L3.10643 12.851C2.91437 11.5163 2.77991 10.5745 2.75432 9.82469C2.72937 9.09337 2.81229 8.61505 3.01167 8.19917C3.21121 7.78294 3.53347 7.41662 4.12194 6.9739C4.72482 6.52034 5.54643 6.02973 6.71074 5.33615L8.09558 4.51121Z"
                fill=""
              />
            </svg>
          ),
          label: "Dashboard",
          route: "/",
        },
        {
          icon: (
            <svg
              className="fill-current"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M17 14C17.5523 14 18 13.5523 18 13C18 12.4477 17.5523 12 17 12C16.4477 12 16 12.4477 16 13C16 13.5523 16.4477 14 17 14Z"
                fill=""
              />
              <path
                d="M17 18C17.5523 18 18 17.5523 18 17C18 16.4477 17.5523 16 17 16C16.4477 16 16 16.4477 16 17C16 17.5523 16.4477 18 17 18Z"
                fill=""
              />
              <path
                d="M13 13C13 13.5523 12.5523 14 12 14C11.4477 14 11 13.5523 11 13C11 12.4477 11.4477 12 12 12C12.5523 12 13 12.4477 13 13Z"
                fill=""
              />
              <path
                d="M13 17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17C11 16.4477 11.4477 16 12 16C12.5523 16 13 16.4477 13 17Z"
                fill=""
              />
              <path
                d="M7 14C7.55229 14 8 13.5523 8 13C8 12.4477 7.55229 12 7 12C6.44772 12 6 12.4477 6 13C6 13.5523 6.44772 14 7 14Z"
                fill=""
              />
              <path
                d="M7 18C7.55229 18 8 17.5523 8 17C8 16.4477 7.55229 16 7 16C6.44772 16 6 16.4477 6 17C6 17.5523 6.44772 18 7 18Z"
                fill=""
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M7 1.75C7.41421 1.75 7.75 2.08579 7.75 2.5V3.26272C8.412 3.24999 9.14133 3.24999 9.94346 3.25H14.0564C14.8586 3.24999 15.588 3.24999 16.25 3.26272V2.5C16.25 2.08579 16.5858 1.75 17 1.75C17.4142 1.75 17.75 2.08579 17.75 2.5V3.32709C18.0099 3.34691 18.2561 3.37182 18.489 3.40313C19.6614 3.56076 20.6104 3.89288 21.3588 4.64124C22.1071 5.38961 22.4392 6.33855 22.5969 7.51098C22.75 8.65018 22.75 10.1058 22.75 11.9435V14.0564C22.75 15.8941 22.75 17.3498 22.5969 18.489C22.4392 19.6614 22.1071 20.6104 21.3588 21.3588C20.6104 22.1071 19.6614 22.4392 18.489 22.5969C17.3498 22.75 15.8942 22.75 14.0565 22.75H9.94359C8.10585 22.75 6.65018 22.75 5.51098 22.5969C4.33856 22.4392 3.38961 22.1071 2.64124 21.3588C1.89288 20.6104 1.56076 19.6614 1.40314 18.489C1.24997 17.3498 1.24998 15.8942 1.25 14.0564V11.9436C1.24998 10.1058 1.24997 8.65019 1.40314 7.51098C1.56076 6.33855 1.89288 5.38961 2.64124 4.64124C3.38961 3.89288 4.33856 3.56076 5.51098 3.40313C5.7439 3.37182 5.99006 3.34691 6.25 3.32709V2.5C6.25 2.08579 6.58579 1.75 7 1.75ZM5.71085 4.88976C4.70476 5.02502 4.12511 5.27869 3.7019 5.7019C3.27869 6.12511 3.02502 6.70476 2.88976 7.71085C2.86685 7.88123 2.8477 8.06061 2.83168 8.25H21.1683C21.1523 8.06061 21.1331 7.88124 21.1102 7.71085C20.975 6.70476 20.7213 6.12511 20.2981 5.7019C19.8749 5.27869 19.2952 5.02502 18.2892 4.88976C17.2615 4.75159 15.9068 4.75 14 4.75H10C8.09318 4.75 6.73851 4.75159 5.71085 4.88976ZM2.75 12C2.75 11.146 2.75032 10.4027 2.76309 9.75H21.2369C21.2497 10.4027 21.25 11.146 21.25 12V14C21.25 15.9068 21.2484 17.2615 21.1102 18.2892C20.975 19.2952 20.7213 19.8749 20.2981 20.2981C19.8749 20.7213 19.2952 20.975 18.2892 21.1102C17.2615 21.2484 15.9068 21.25 14 21.25H10C8.09318 21.25 6.73851 21.2484 5.71085 21.1102C4.70476 20.975 4.12511 20.7213 3.7019 20.2981C3.27869 19.8749 3.02502 19.2952 2.88976 18.2892C2.75159 17.2615 2.75 15.9068 2.75 14V12Z"
                fill=""
              />
            </svg>
          ),
          label: "Calendar",
          route: "/calendar",
        },
        {
          icon: (
            <svg
              className="fill-current"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M11.9999 1.25C9.37654 1.25 7.24989 3.37665 7.24989 6C7.24989 8.62335 9.37654 10.75 11.9999 10.75C14.6232 10.75 16.7499 8.62335 16.7499 6C16.7499 3.37665 14.6232 1.25 11.9999 1.25ZM8.74989 6C8.74989 4.20507 10.205 2.75 11.9999 2.75C13.7948 2.75 15.2499 4.20507 15.2499 6C15.2499 7.79493 13.7948 9.25 11.9999 9.25C10.205 9.25 8.74989 7.79493 8.74989 6Z"
                fill=""
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M11.9999 12.25C9.68634 12.25 7.55481 12.7759 5.97534 13.6643C4.41937 14.5396 3.24989 15.8661 3.24989 17.5L3.24982 17.602C3.24869 18.7638 3.24728 20.222 4.5263 21.2635C5.15577 21.7761 6.03637 22.1406 7.2261 22.3815C8.41915 22.6229 9.97412 22.75 11.9999 22.75C14.0257 22.75 15.5806 22.6229 16.7737 22.3815C17.9634 22.1406 18.844 21.7761 19.4735 21.2635C20.7525 20.222 20.7511 18.7638 20.75 17.602L20.7499 17.5C20.7499 15.8661 19.5804 14.5396 18.0244 13.6643C16.445 12.7759 14.3134 12.25 11.9999 12.25ZM4.74989 17.5C4.74989 16.6487 5.37127 15.7251 6.71073 14.9717C8.02669 14.2315 9.89516 13.75 11.9999 13.75C14.1046 13.75 15.9731 14.2315 17.289 14.9717C18.6285 15.7251 19.2499 16.6487 19.2499 17.5C19.2499 18.8078 19.2096 19.544 18.5263 20.1004C18.1558 20.4022 17.5364 20.6967 16.4761 20.9113C15.4192 21.1252 13.9741 21.25 11.9999 21.25C10.0257 21.25 8.58063 21.1252 7.52368 20.9113C6.46341 20.6967 5.84401 20.4022 5.47348 20.1004C4.79021 19.544 4.74989 18.8078 4.74989 17.5Z"
                fill=""
              />
            </svg>
          ),
          label: "Profile",
          route: "/profile",
        },
        {
          icon:
            (<svg
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 576 512"
              width="25"
              height="25"
              >
              <path
                d="M0 0 C1.06116028 -0.00571014 2.12232056 -0.01142029 3.21563721 -0.01730347 C4.37982681 -0.01842133 5.54401642 -0.01953918 6.7434845 -0.02069092 C8.5829213 -0.02813828 8.5829213 -0.02813828 10.45951843 -0.03573608 C13.82548899 -0.04784725 17.19139739 -0.05530396 20.55738235 -0.05974674 C22.6622232 -0.06267976 24.76705863 -0.06678508 26.87189674 -0.07125092 C33.46280841 -0.08492613 40.05370765 -0.09459169 46.64463252 -0.09845281 C54.24239895 -0.10292857 61.83998503 -0.1204538 69.43769664 -0.1494534 C75.31639349 -0.17110923 81.19503977 -0.18115922 87.07377607 -0.18249393 C90.58179842 -0.18353951 94.08965125 -0.18939405 97.59763145 -0.20731354 C101.51609919 -0.2269399 105.43434389 -0.2224897 109.3528595 -0.21600342 C110.50692795 -0.2252182 111.6609964 -0.23443298 112.85003662 -0.243927 C119.8839086 -0.20749606 126.25347171 0.12994299 131.89509583 4.82403564 C132.34111145 5.40282471 132.78712708 5.98161377 133.24665833 6.57794189 C133.93888489 7.4422583 133.93888489 7.4422583 134.64509583 8.32403564 C138.72869944 14.37141043 139.0353761 19.96922003 137.87165833 27.14044189 C135.88770746 31.9468643 133.25563122 36.20946416 130.47663879 40.59405518 C128.66844708 43.46284732 126.9105303 46.35912501 125.15681458 49.26153564 C123.04275861 52.7599188 120.92748717 56.25733668 118.79768372 59.74615479 C113.24980831 68.83521444 107.79351523 77.97574405 102.37165833 87.14044189 C95.7632807 98.30711757 89.07724702 109.42172866 82.32307434 120.50079346 C73.71709849 134.64099268 65.29743505 148.89238229 56.87165833 163.14044189 C58.10617737 163.11949463 59.34069641 163.09854736 60.61262512 163.07696533 C65.25133886 163.00383432 69.8900031 162.95837975 74.52912903 162.92071533 C76.52596137 162.90076471 78.52273657 162.87359418 80.5193634 162.83868408 C98.18329543 162.53787081 111.84389592 163.80081186 125.31306458 176.42950439 C136.04041351 187.56332619 138.30162832 198.82520654 138.08259583 213.68341064 C137.64890651 226.52007895 130.92353464 235.95151696 122.93415833 245.51544189 C122.44439514 246.1106665 121.95463196 246.70589111 121.45002747 247.31915283 C117.24983009 252.19733755 113.13661521 255.65204434 106.55525208 256.63653564 C94.1356687 256.41235544 94.1356687 256.41235544 89.25837708 251.52325439 C84.10241314 245.78893651 82.37553561 241.70985116 82.57087708 233.93731689 C83.43611791 225.89170081 88.77931717 220.64201716 94.04353333 214.85137939 C96.20118893 211.651779 96.32705072 209.92453581 95.87165833 206.14044189 C93.96391397 204.23269754 90.54431101 204.98531313 88.01618958 204.96685791 C87.29898239 204.9601709 86.58177521 204.95348389 85.84283447 204.94659424 C84.27901432 204.93250783 82.71517317 204.92062533 81.15132141 204.91064644 C78.67032897 204.89425679 76.18948933 204.87101438 73.70857239 204.8457489 C66.6521721 204.77495607 59.59570553 204.71513713 52.53913879 204.66363525 C48.22607874 204.63167365 43.91318767 204.59034259 39.6002655 204.54343987 C37.9609942 204.52750637 36.3216839 204.51514528 34.68235779 204.50653267 C12.13882449 204.38649619 12.13882449 204.38649619 4.53572083 196.98028564 C0.08771489 192.06241993 -1.0545383 187.22012889 -0.83146667 180.68731689 C0.75195675 172.69982539 5.648519 165.98124958 9.87165833 159.14044189 C11.13395347 157.05564061 12.39426033 154.96963458 13.65290833 152.88262939 C16.12959312 148.784599 18.61551254 144.69257714 21.11276245 140.60705566 C26.27294326 132.16151445 31.33276429 123.65876167 36.37165833 115.14044189 C42.96301225 104.0037758 49.62142445 92.91177273 56.35652161 81.86138916 C61.74146848 73.02100099 67.07804389 64.15227237 72.39900208 55.27325439 C73.22769792 53.89115063 74.05643311 52.50907045 74.88520813 51.12701416 C76.88114249 47.79842689 78.87655335 44.46952635 80.87165833 41.14044189 C72.00459327 40.66529486 63.14676409 40.33613956 54.26824093 40.18447685 C50.1425699 40.10959173 46.03032001 39.98782257 41.91047668 39.75177002 C23.94504233 38.16705378 23.94504233 38.16705378 7.97596741 44.58026123 C3.0233206 50.77053806 -0.04519978 57.69000986 -2.89149475 65.04284668 C-4.43262685 68.90250248 -6.342154 72.16626094 -8.56584167 75.67169189 C-9.16211365 76.67208496 -9.75838562 77.67247803 -10.37272644 78.70318604 C-10.95207947 79.67248047 -11.5314325 80.6417749 -12.12834167 81.64044189 C-19.91955893 94.73615485 -27.54028115 107.92626804 -35.12834167 121.14044189 C-43.37104947 135.49464658 -51.68176254 149.80162788 -60.14323425 164.02813721 C-65.36845902 172.82597524 -70.50270645 181.67345032 -75.60246277 190.54449463 C-80.52081467 199.09903047 -85.48444243 207.62633889 -90.47453308 216.13922119 C-91.53632729 217.95387488 -92.59407569 219.77090387 -93.6471405 221.59063721 C-94.62269218 223.26999468 -95.61184111 224.94153799 -96.61540222 226.60430908 C-100.35661129 232.9571303 -101.21834435 237.76749926 -100.12834167 245.14044189 C-98.38105682 250.78314416 -94.22642537 254.43487993 -89.12834167 257.14044189 C-85.92850059 258.13536368 -83.0024644 258.27019804 -79.66056824 258.2822876 C-78.01801056 258.29283928 -78.01801056 258.29283928 -76.3422699 258.30360413 C-74.5734848 258.30985054 -74.5734848 258.30985054 -72.76896667 258.31622314 C-70.26635411 258.33942307 -67.76374992 258.36354047 -65.26115417 258.38848877 C-61.32001658 258.42358109 -57.37918673 258.45293901 -53.43791199 258.46636963 C-49.63121877 258.48187697 -45.82542201 258.52210756 -42.01896667 258.56622314 C-40.84787354 258.56431473 -39.6767804 258.56240631 -38.47019958 258.56044006 C-31.11582262 258.66993393 -25.23292774 259.3174872 -19.61277771 264.55201721 C-14.80017565 269.9540134 -13.86326444 274.42285818 -13.92250061 281.41390991 C-14.25429133 285.80874733 -15.5997222 289.67344957 -17.10099792 293.79278564 C-17.57195641 295.14230568 -17.57195641 295.14230568 -18.0524292 296.51908875 C-19.06217551 299.3986484 -20.09412472 302.269591 -21.12834167 305.14044189 C-21.79835265 307.03090989 -22.46746184 308.92169774 -23.13566589 310.81280518 C-25.25417948 316.78523079 -27.40856456 322.74443115 -29.56584167 328.70294189 C-30.34644625 330.86482772 -31.12687944 333.02677543 -31.90715027 335.18878174 C-39.61001081 356.51959842 -47.36122106 377.83295088 -55.12834167 399.14044189 C-52.27196523 396.34344143 -49.55527635 393.58382308 -47.14787292 390.39044189 C-46.62878357 389.70627197 -46.10969421 389.02210205 -45.57487488 388.31719971 C-45.03564392 387.59886963 -44.49641296 386.88053955 -43.94084167 386.14044189 C-42.78476437 384.61426939 -41.62851271 383.08822895 -40.47209167 381.56231689 C-39.90490417 380.81143799 -39.33771667 380.06055908 -38.75334167 379.28692627 C-36.49877055 376.30883292 -34.22194793 373.348229 -31.94084167 370.39044189 C-31.14291199 369.35403564 -30.3449823 368.31762939 -29.52287292 367.24981689 C-28.73267761 366.22372314 -27.9424823 365.19762939 -27.12834167 364.14044189 C-25.46138875 361.97399538 -23.79486754 359.80721693 -22.12834167 357.64044189 C-21.2950162 356.55710251 -20.46168288 355.47376917 -19.62834167 354.39044189 C-19.21584167 353.85419189 -18.80334167 353.31794189 -18.37834167 352.76544189 C-6.50334167 337.32794189 -6.50334167 337.32794189 5.37165833 321.89044189 C5.78431946 321.35354736 6.19698059 320.81665283 6.62214661 320.26348877 C7.45215335 319.18535574 8.28384884 318.10852062 9.11726379 317.03302002 C11.26750743 314.25362167 13.37977492 311.45467828 15.44197083 308.60919189 C24.93212931 295.62532415 24.93212931 295.62532415 33.30915833 293.53106689 C39.94416614 292.51963278 44.97524353 293.64002152 50.59431458 297.24591064 C54.31415962 300.07006819 56.45059706 302.71936241 57.87165833 307.14044189 C59.16837204 318.04724502 56.85891413 324.06153601 50.28962708 332.46466064 C48.25164245 335.03630522 46.18553701 337.58348023 44.10993958 340.12481689 C40.96592894 343.9911891 37.9660974 347.95166865 34.99665833 351.95294189 C28.94637073 360.08860524 22.72065854 368.08146061 16.48200989 376.07305908 C12.58563501 381.07525775 8.73203327 386.11045004 4.87165833 391.14044189 C3.20556579 393.30755037 1.53860634 395.47399142 -0.12834167 397.64044189 C-0.96169073 398.72376314 -1.79502409 399.80709645 -2.62834167 400.89044189 C-17.62834168 420.3904419 -17.62834168 420.3904419 -18.87760925 422.01446533 C-19.71341544 423.10102969 -20.54919003 424.18761834 -21.38493347 425.27423096 C-23.43017804 427.93332737 -25.47604159 430.59194129 -27.52287292 433.24981689 C-28.32080261 434.28622314 -29.1187323 435.32262939 -29.94084167 436.39044189 C-30.3441571 436.9142041 -30.74747253 437.43796631 -31.16300964 437.9776001 C-34.13751947 441.84377032 -37.0974542 445.72087795 -40.05387878 449.60089111 C-42.2545892 452.48479865 -44.4641187 455.36188804 -46.67424011 458.23858643 C-47.93238827 459.88414957 -49.17624231 461.54062312 -50.41740417 463.19903564 C-58.02078651 473.15007588 -65.6957421 478.61152091 -78.12834167 481.14044189 C-88.93901523 482.35876317 -98.48678473 479.76857486 -107.12834167 473.14044189 C-113.09945397 467.18187396 -116.2359802 459.88669928 -116.38615417 451.45953369 C-116.31503277 446.01693074 -114.97935345 441.49014087 -113.12834167 436.40997314 C-112.81292419 435.50616409 -112.49750671 434.60235504 -112.17253113 433.67115784 C-111.17337148 430.82179407 -110.1523012 427.98097558 -109.12834167 425.14044189 C-108.49597905 423.35737802 -107.86445577 421.57401622 -107.23381042 419.79034424 C-105.22313058 414.12730285 -103.1762387 408.47760717 -101.12834167 402.82794189 C-99.96264693 399.60271881 -98.79789504 396.37715607 -97.63313293 393.15159607 C-96.80447612 390.85706344 -95.97551135 388.56264201 -95.14625549 386.26832581 C-91.74711142 376.86222383 -88.36114802 367.45142828 -84.97990417 358.03887939 C-84.72082024 357.31767473 -84.4617363 356.59647007 -84.19480133 355.85341072 C-82.63656138 351.51560425 -81.07860295 347.1776967 -79.52073669 342.83975601 C-77.54721837 337.34448733 -75.5734087 331.84932342 -73.59908676 326.35434341 C-72.9420481 324.52544567 -72.28526618 322.69645571 -71.62849426 320.86746216 C-69.14415289 313.95269439 -66.64519433 307.04344427 -64.12834167 300.14044189 C-64.75583313 300.15137375 -65.38332458 300.1623056 -66.02983093 300.17356873 C-87.83406363 300.53630776 -106.91304074 299.03338925 -123.81584167 283.70294189 C-124.57896667 282.85731689 -125.34209167 282.01169189 -126.12834167 281.14044189 C-126.94045105 280.31673096 -126.94045105 280.31673096 -127.76896667 279.47637939 C-137.95213275 268.71764306 -143.12834167 253.87511724 -143.12834167 239.14044189 C-141.53349221 215.91544654 -128.98217533 198.1593526 -117.37004089 178.66265869 C-112.04600087 169.72008123 -106.82134441 160.72338143 -101.63346863 151.70098877 C-96.92002704 143.50499251 -92.16484268 135.3342769 -87.39299011 127.17218018 C-83.14980991 119.90784615 -78.94703033 112.62093281 -74.75334167 105.32794189 C-68.95653478 95.25282637 -63.05560792 85.24331294 -57.11369324 75.25323486 C-52.52006773 67.51865929 -47.99012125 59.74994699 -43.50334167 51.95294189 C-42.89168152 50.89075439 -42.28002136 49.82856689 -41.64982605 48.73419189 C-39.17448744 44.4345051 -36.69981813 40.13443523 -34.22697449 35.83331299 C-32.36539082 32.59965905 -30.4975506 29.36969266 -28.62834167 26.14044189 C-28.07710632 25.17984863 -27.52587097 24.21925537 -26.95793152 23.22955322 C-13.50664297 0.04351129 -13.50664297 0.04351129 0 0 Z "
                fill="#777"
                transform="translate(374.1283416748047,30.85955810546875)"
              />
              <path
                d="M0 0 C5.14865362 4.95796274 7.22086598 9.20009888 7.7890625 16.359375 C7.57660361 23.33068245 4.26029548 28.52689242 -0.5234375 33.421875 C-6.05860435 36.90698005 -12.06864177 37.61860318 -18.3984375 38.734375 C-47.14744288 44.1593826 -71.51347382 58.21185139 -89.5234375 81.421875 C-90.19375 82.24171875 -90.8640625 83.0615625 -91.5546875 83.90625 C-100.98030389 95.95009316 -107.12881983 110.57985217 -110.5234375 125.421875 C-110.73484375 126.32292969 -110.94625 127.22398437 -111.1640625 128.15234375 C-112.40457991 133.8675847 -113.15380314 139.58693256 -113.5234375 145.421875 C-113.57757813 146.26621094 -113.63171875 147.11054688 -113.6875 147.98046875 C-114.57208992 176.32755488 -104.56290265 203.73776408 -86.5234375 225.421875 C-85.75386719 226.35515625 -84.98429687 227.2884375 -84.19140625 228.25 C-67.22039388 247.88044404 -44.39807278 258.4485438 -19.46704102 264.24267578 C-12.51730674 265.91574895 -6.9114917 267.74045745 -2.7109375 273.921875 C-2.31261719 274.4890625 -1.91429687 275.05625 -1.50390625 275.640625 C1.00346137 280.19584267 1.06082062 285.35552245 0.4765625 290.421875 C-1.35778821 296.51059333 -5.02701626 301.22772832 -10.5234375 304.421875 C-23.61644835 310.10638505 -41.80176768 302.93566963 -54.3671875 298.11328125 C-95.54278378 281.62163765 -125.92511486 251.80363512 -143.77539062 211.20556641 C-159.29217498 174.53024599 -159.40882467 131.64246401 -145.17236328 94.52905273 C-139.67422408 81.07952298 -132.77526763 67.66241628 -123.5234375 56.421875 C-123.10594238 55.9072168 -122.68844727 55.39255859 -122.25830078 54.86230469 C-113.61937574 44.24174649 -104.48858514 34.69263178 -93.5234375 26.421875 C-92.76675781 25.84824219 -92.01007813 25.27460938 -91.23046875 24.68359375 C-73.65577567 11.87791286 -53.67104249 3.2687326 -32.5234375 -1.578125 C-31.67136719 -1.80242187 -30.81929688 -2.02671875 -29.94140625 -2.2578125 C-20.67248775 -4.50202826 -7.94455813 -6.22965351 0 0 Z "
                fill="#777"
                transform="translate(254.5234375,104.578125)"
              />
              <path
                d="M0 0 C5.94209852 3.23442377 8.65320326 7.70960978 10.75 14 C10.88323598 16.85566063 10.96230715 19.68604802 10.98828125 22.54296875 C10.996353 23.38539627 11.00442474 24.22782379 11.01274109 25.09577942 C11.02656978 26.88031973 11.03729737 28.66488635 11.04516602 30.44946289 C11.05666584 32.26594851 11.07708596 34.08240086 11.10668945 35.89868164 C11.14958005 38.53034311 11.1655663 41.16100015 11.17578125 43.79296875 C11.19328934 44.5953447 11.21079742 45.39772064 11.22883606 46.22441101 C11.20377198 52.82566811 9.32169925 57.95858399 5.0390625 63.0234375 C-0.74539497 67.72161187 -5.64598009 69.65551896 -13.25 69 C-20.19251926 67.61424023 -24.33163852 63.78223072 -28.25 58 C-30.56349717 53.46563023 -30.58755566 49.30955628 -30.62109375 44.33203125 C-30.63012222 43.49717697 -30.6391507 42.66232269 -30.64845276 41.8021698 C-30.66292767 40.03798998 -30.67183513 38.27375681 -30.67553711 36.50952148 C-30.68738652 33.83808403 -30.73655594 31.16899421 -30.78710938 28.49804688 C-30.95652968 10.8963698 -30.95652968 10.8963698 -25.25 4 C-17.51968259 -2.27075325 -9.26196517 -4.12565863 0 0 Z "
                fill="#777"
                transform="translate(265.25,2)"
              />
              <path
                d="M0 0 C4.62789503 4.01084236 8.37898815 8.01282167 9.34375 14.20703125 C9.87844984 23.12315105 6.34397935 29.53541831 2 37 C1.57154785 37.75394043 1.1430957 38.50788086 0.70166016 39.28466797 C-0.67861856 41.70224705 -2.08363873 44.10340043 -3.5 46.5 C-3.93803955 47.2535376 -4.3760791 48.0070752 -4.82739258 48.78344727 C-8.35042508 54.57706548 -12.46238569 58.89655365 -18.3125 62.375 C-25.05653844 63.94338103 -31.16497392 63.73783304 -37.24609375 60.2734375 C-41.8952276 56.89789711 -45.44231684 52.18817098 -46.44140625 46.4765625 C-46.83363107 37.2403005 -43.53741932 30.73487906 -39 23 C-38.57154785 22.24750977 -38.1430957 21.49501953 -37.70166016 20.71972656 C-36.32097954 18.30095132 -34.91602849 15.89823491 -33.5 13.5 C-33.06196045 12.74638184 -32.6239209 11.99276367 -32.17260742 11.21630859 C-28.55239734 5.26354721 -24.41360867 0.56457064 -18 -2.375 C-11.39584679 -3.75086525 -5.93241462 -3.14730207 0 0 Z "
                fill="#777"
                transform="translate(158,414)"
              />
              <path
                d="M0 0 C5.36055953 3.24106318 8.92988097 6.70928294 10.49609375 12.87109375 C11.31055508 18.6819621 11.44388433 24.03000329 8.49609375 29.24609375 C2.5495397 36.97212525 -6.37509667 41.19962737 -14.81640625 45.68359375 C-15.89986328 46.26818359 -16.98332031 46.85277344 -18.09960938 47.45507812 C-26.27376607 51.83935235 -33.4343958 54.95036153 -42.828125 52.1875 C-48.62812597 49.52502336 -52.14701297 45.84333617 -54.81640625 39.99609375 C-56.33447258 33.09579226 -56.02359805 27.03919371 -52.50390625 20.87109375 C-46.68928043 14.37149391 -38.9965742 10.54737264 -31.37890625 6.55859375 C-29.64833984 5.62950195 -29.64833984 5.62950195 -27.8828125 4.68164062 C-10.31373677 -4.65003109 -10.31373677 -4.65003109 0 0 Z "
                fill="#777"
                transform="translate(86.50390625,341.12890625)"
              />
              <path
                d="M0 0 C1.36427124 -0.00430527 1.36427124 -0.00430527 2.75610352 -0.00869751 C4.67236964 -0.01073216 6.58865682 -0.00524437 8.50488281 0.00732422 C11.42820943 0.02338645 14.35015359 0.00745516 17.2734375 -0.01171875 C19.14062803 -0.00973621 21.00781771 -0.00589232 22.875 0 C23.74390869 -0.00607269 24.61281738 -0.01214539 25.50805664 -0.0184021 C31.97754251 0.0561103 36.11905908 1.40349997 41.125 5.7109375 C46.10546536 11.49904589 46.93586747 16.05912098 46.72265625 23.55859375 C46.09964862 29.76306703 43.05295424 33.42700013 38.4375 37.3984375 C33.20477838 40.69572808 28.86490994 40.83873772 22.875 40.796875 C21.51072876 40.80118027 21.51072876 40.80118027 20.11889648 40.80557251 C18.20263036 40.80760716 16.28634318 40.80211937 14.37011719 40.78955078 C11.44679057 40.77348855 8.52484641 40.78941984 5.6015625 40.80859375 C3.73437197 40.80661121 1.86718229 40.80276732 0 40.796875 C-0.86890869 40.80294769 -1.73781738 40.80902039 -2.63305664 40.8152771 C-9.10254251 40.7407647 -13.24405908 39.39337503 -18.25 35.0859375 C-23.23046536 29.29782911 -24.06086747 24.73775402 -23.84765625 17.23828125 C-23.22464862 11.03380797 -20.17795424 7.36987487 -15.5625 3.3984375 C-10.32977838 0.10114692 -5.98990994 -0.04186272 0 0 Z "
                fill="#777"
                transform="translate(23.5625,235.6015625)"
              />
              <path
                d="M0 0 C7.99323541 4.19376028 12.59476335 12.79319755 16.9921875 20.2890625 C17.50394531 21.14435547 18.01570313 21.99964844 18.54296875 22.88085938 C28.15851647 39.08392243 28.15851647 39.08392243 26.8671875 49.3515625 C24.8786452 55.00320905 21.29062449 58.41281291 16.6796875 62.1015625 C11.2429418 64.51789392 5.38589256 65.1652272 -0.3203125 63.2890625 C-8.452782 59.48330218 -12.83460901 53.35348744 -17.1953125 45.7265625 C-17.7119043 44.84009033 -18.22849609 43.95361816 -18.76074219 43.0402832 C-20.23679208 40.4874619 -21.68958237 37.9230507 -23.1328125 35.3515625 C-23.5045459 34.69623535 -23.8762793 34.0409082 -24.25927734 33.36572266 C-28.06154934 26.58990328 -30.52793899 21.71677118 -28.5 13.91796875 C-26.33318579 7.34920316 -23.16581063 3.70873394 -17.1328125 0.3515625 C-11.79083404 -1.42909699 -5.42271281 -1.6486636 0 0 Z "
                fill="#777"
                transform="translate(146.1328125,32.6484375)"
              />
              <path
                d="M0 0 C1.81637994 0.9717238 3.61182669 1.9713598 5.39941406 2.99511719 C7.53063219 4.21400961 9.68239274 5.39136464 11.8359375 6.5703125 C13.35043496 7.41924605 14.86347991 8.27077653 16.375 9.125 C17.08092285 9.5154248 17.7868457 9.90584961 18.51416016 10.30810547 C24.69820431 13.90649684 29.48071744 18.48658557 32.375 25.125 C33.06599988 31.56834954 33.23041772 37.67423702 29.375 43.125 C24.47112318 48.67412377 20.28269977 51.2437959 13.046875 52.3046875 C4.18447692 51.70867827 -3.67728759 46.66904535 -11.25 42.4375 C-12.343125 41.85033203 -13.43625 41.26316406 -14.5625 40.65820312 C-22.11374411 36.45748077 -28.25647587 32.06800687 -32.0625 24.125 C-33.47748575 16.57840933 -32.93991411 10.6033475 -28.625 4.125 C-20.06870449 -4.10419367 -10.64768498 -5.23173449 0 0 Z "
                fill="#777"
                transform="translate(66.625,115.875)"
              />
              </svg>)

          ,label: "Solar Tracking",
          route: "/solar-tracking",
        },
      ],
    },
  ];

  const [pageName, setPageName] = useLocalStorage("selectedMenu", "dashboard");

  return (
    <ClickOutside onClick={() => setSidebarOpen(false)}>
      <aside
        className={`absolute left-0 top-0 z-9999 flex h-screen w-72.5 flex-col overflow-y-hidden border-r border-stroke bg-white dark:border-stroke-dark dark:bg-gray-dark lg:static lg:translate-x-0 ${
          sidebarOpen
            ? "translate-x-0 duration-300 ease-linear"
            : "-translate-x-full"
        }`}
      >
        {/* <!-- SIDEBAR HEADER --> */}
        <div className="flex items-center justify-between gap-2 px-6 py-5.5 lg:py-6.5 xl:py-10">
          <Link href="/">
            <Image
              width={176}
              height={32}
              src={"/images/logo/logo-dark.svg"}
              alt="Logo"
              priority
              className="dark:hidden"
              style={{ width: "auto", height: "auto" }}
            />
            <Image
              width={176}
              height={32}
              src={"/images/logo/logo.svg"}
              alt="Logo"
              priority
              className="hidden dark:block"
              style={{ width: "auto", height: "auto" }}
            />
          </Link>

          <button
            onClick={() => setSidebarOpen(!sidebarOpen)}
            className="block lg:hidden"
          >
            <svg
              className="fill-current"
              width="20"
              height="18"
              viewBox="0 0 20 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M19 8.175H2.98748L9.36248 1.6875C9.69998 1.35 9.69998 0.825 9.36248 0.4875C9.02498 0.15 8.49998 0.15 8.16248 0.4875L0.399976 8.3625C0.0624756 8.7 0.0624756 9.225 0.399976 9.5625L8.16248 17.4375C8.31248 17.5875 8.53748 17.7 8.76248 17.7C8.98748 17.7 9.17498 17.625 9.36248 17.475C9.69998 17.1375 9.69998 16.6125 9.36248 16.275L3.02498 9.8625H19C19.45 9.8625 19.825 9.4875 19.825 9.0375C19.825 8.55 19.45 8.175 19 8.175Z"
                fill=""
              />
            </svg>
          </button>
        </div>
        {/* <!-- SIDEBAR HEADER --> */}

        <div className="no-scrollbar flex flex-col overflow-y-auto duration-300 ease-linear">
          {/* <!-- Sidebar Menu --> */}
          <nav className="mt-1 px-4 lg:px-6">
            {menuGroups.map((group, groupIndex) => (
              <div key={groupIndex}>
                <h3 className="mb-5 text-sm font-medium text-dark-4 dark:text-dark-6">
                  {group.name}
                </h3>

                <ul className="mb-6 flex flex-col gap-2">
                  {group.menuItems.map((menuItem, menuIndex) => (
                    <SidebarItem
                      key={menuIndex}
                      item={menuItem}
                      pageName={pageName}
                      setPageName={setPageName}
                    />
                  ))}
                </ul>
              </div>
            ))}
          </nav>
          {/* <!-- Sidebar Menu --> */}
        </div>
      </aside>
    </ClickOutside>
  );
};

export default Sidebar;
